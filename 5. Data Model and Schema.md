- **Purpose:**
	- The data model and schema can potentially significantly impact your performance and end design. If you don’t provide detailed data models, the interviewer can perceive the discussions as too hand-wavy.
- **How to Approach Data Model and Schema?**
	- Hopefully, you would already have the high-level diagram thoroughly hashed out at this stage, and you can take a look at the diagram and see where you can add clarity. Most candidates will look at their diagram with boxes and arrows and avoid details because they don’t want to dig themselves a hole. Strong candidates will try to find opportunities to provide more color into important areas. Here are a couple of ideas to add clarity.
- **Add More Detail into the Arrows**
	- When you look at your high-level diagram, there will be a bunch of boxes and arrows. Some arrows are pretty evident as to what they do. 
- **Add More Detail into the Queue**
	- If there’s a queue, it might be worth talking about what is inside of the queue. For example, if you are designing a system to transcode a video into various formats through a data pipeline, it’s important to talk about what goes into the queue.
- **Add More Detail into the Database**
	- When you draw a database diagram, don’t just leave it there and assume the database stores everything you need efficiently. You should take a moment and design the database schema you need to satisfy the main requirements. It sets up the foundation for future discussions like sharding, indexing, and caching. Without the data model and schema, the discussion will become very hand-wavy and unproductive.
#### ======================Example=======================
- **Situation**
	- You’re asked to design a database schema to store driver location.
- **Option 1**
	- Driver Location Table
		- driver_id | x-coordinate | y-coordinate
- **Option 2**
	- Driver Location Table
		- driver_id | x-coordinate | y-coordinate
	- Driver Location Index
		- position_id -> driver_ids
- **Analysis**
	- A lot of candidates just give Option 1 without discussing the efficiency of the query. By specifying the schema, the interviewer will know how to think about the query. For example, if the candidate doesn’t recognize they need a full table to find a matching driver, it doesn’t look great. Without the schema, the efficiency discussion will not happen, so take a moment to discuss the schema and its efficiency.

#### ======================================================
- **Add More Detail into Cache and App Servers**
	- Similar to databases, queues, cache, or any data stores, it is important to discuss the data structure and data model because it will affect the ultimate design. So just make sure you check any app servers you introduced that hold temporary data or any distributed cache you introduced in your high-level design. Make sure you present the necessary detail if it's essential to the efficiency of your design.
- **Don’t Be Distracted with Additional Features**
	- Similar to API and high-level diagrams, don’t start adding details unrelated to the core of the question. Adding unnecessary details commonly happens during schema design where candidates start adding in many generic columns that aren’t helpful to designing the central part of the question.
#### ======================Example=======================
- **Situation**
	- Design the schema for the ride record to display the status of the ride to the rider and driver.
- **Option 1 - Don't do this**
	- User Table
		- User ID | Name | Birthdate | Birthplace | Address | Joined Date
	- Rider Table
		- User ID | Payment Method | Number of Rides Taken
	- Driver Table
		- User ID | Rating
	- Ride Table
		- Ride ID | Rider ID | Driver ID | Status | Initiated Time | Estimated Cost | Starting Location | Ending Location | Fraud Status
- **Option 2 - Do this**
	- Ride Table
		- Rider ID | Rider ID | Driver ID | Status
- **Analysis**
	- To determine a given ride’s status, you don’t need the estimated cost and number of rides taken for a rider. Those are just superfluous information that has nothing to do with the central requirements agreed with the interviewer. Focus on columns and schema that are necessary for the problem at hand.
#### ======================================================
- **Table Interesting Discussion Points**
	- Similar to high-level design, while you’re designing for the data models and schema, you might have some intuition to optimize for the design at hand. If you can convert the discussion quickly, it makes sense to get it out of the way. If the discussion is lengthy, include the points in the discussion points list for the deep dive section. The point is not to unnecessarily complicate things.
	- For example, if you have two tables—Ride Table and User Table—during your design, if you feel that the driver and rider name are often queried together with the ride, it might make sense to denormalize the tables together to prevent joins. This discussion should be relatively quick.
	- However, you might look at a database schema and have all sorts of ideas on sharding the database. You should table lengthy discussions like sharding the database for later if you haven’t finished the end-to-end design yet.
	- Another common mistake is digging into the way too common MySQL vs. NoSQL debate. The discussion is more involved than just “NoSQL is more scalable.” Since most candidates don’t know the internals of databases well, they usually spend a quick second claiming they will use NoSQL while designing for database schema. You can also table it by saying, “I will lay out the logical schema but come back to the internal later.” If you’re confident, it’s also reasonable to deep dive into a database choice here—just make sure all the write and read queries into that database are fully designed. Otherwise, you can’t justify well without knowing the query patterns of the database.
